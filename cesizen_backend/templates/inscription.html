{% extends 'base.html' %}

{% block title %}Inscription{% endblock %}

{% block content %}

    <div class="d-flex flex-column align-items-center justify-content-center w-100 bg">

        <div class="d-flex flex-column align-items-center justify-content-center w-50 shadow-bottom blue-bg-color rounded-3 p-4">

            <h2 class="text-center mb-4 blue-text-color">Inscription</h2>

            {% if messages %}
                <div class="alert alert-info w-100 text-center">
                    {% for message in messages %}
                        <p>{{ message }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <form method="POST" class="d-flex flex-column align-items-center justify-content-center w-100">
                
                {% csrf_token %}

                <!-- Champ Email -->
                <label for="email" class="mb-2">Email</label>
                <input type="email" name="email" id="email" class="mb-3 rounded-2 p-1 w-50" required>

                <!-- Champ Nom d'utilisateur -->
                <label for="username" class="mb-2">Nom d'utilisateur</label>
                <input type="text" name="username" id="username" class="mb-3 rounded-2 p-1 w-50" required>

                <!-- Champ Mot de passe -->
                <label for="password1" class="mb-2">Mot de passe</label>
                <div class="position-relative w-50">
                    <input type="password" name="password1" id="password1" class="mb-3 rounded-2 p-1 w-100" required>
                    <div type="button" class="position-absolute end-0 top-0 h-100 px-3 py-1" onclick="togglePassword('password1')" style="cursor: pointer;">
                        üëÅ
                    </div>
                </div>

                <!-- Champ Confirmation du mot de passe -->
                <label for="password2" class="mb-2">Confirmez le mot de passe</label>
                <div class="position-relative w-50">
                    <input type="password" name="password2" id="password2" class="mb-3 rounded-2 p-1 w-100" required>
                    <div type="button" class="position-absolute end-0 top-0 h-100 px-3 py-1" onclick="togglePassword('password2')" style="cursor: pointer;">
                        üëÅ
                    </div>
                </div>

                <!-- Bouton d'inscription -->
                <button type="submit" class="btn btn-light mt-3">S'inscrire</button>

            </form>

            <!-- Lien vers la page de connexion -->
            <p class="mt-3 text-center">
                D√©j√† inscrit ? <a href="{% url 'connexion' %}" class="blue-text-color">Se connecter</a>
            </p>

        </div>

    </div>

    <script>
        // Fonction pour afficher/masquer le mot de passe
        function togglePassword(inputId) {
            var passwordInput = document.getElementById(inputId);
            if (passwordInput.type === "password") {
                passwordInput.type = "text";
            } else {
                passwordInput.type = "password";
            }
        }
    </script>

{% endblock %}